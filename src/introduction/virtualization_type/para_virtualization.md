在半虚拟化设备中，若要允许从客户机发送的特权指令访问Ring 0，需要修改客户机操作系统的核心代码来赋予其权限。也就是说，修改GuestOS代码来满足VMM/hypervisor和客户机之间通过后端的hypercalls路径来通信。这种情况下，客户机知道自己所处的是虚拟环境，这种类型即半虚拟化。

**半虚拟化的实现**

实现虚拟化的目的主要是为了可以使用虚拟的逻辑资源来替换物理资源，且客户机和达到高度可用，从而摆脱物理资源限制的约束，提高物理资源的利用率。故实现虚拟化主要是解决宿主机和客户机之间的通信和资源虚拟化。

全虚拟化的解决方式是通过VMM将来自客户机的特权指令虚拟化为虚拟特权指令或者通过强有力的硬件支撑。半虚拟化的解决方式如上所说，是通过修改客户机操作系统内核代码来实现的，因此可以满足Host OS在捕获到来自Guest中没有经过VMM虚拟化的特权指令和敏感指令时，能准确判断出该指令是否属于GuestOS。

但是像Windows这样的操作系统，不能对系统进行更改，所以不能运行在半虚拟化的虚拟机里面，只能在外围设备驱动方面使用半虚拟化驱动提高虚拟机外围设备的性能，virtio是半虚拟化技术的一个典型应用。



由VMM来提供API以及Guest的虚拟户调用

参考链接：

1. [http://blog.csdn.net/jmilk/article/details/51824935](http://blog.csdn.net/jmilk/article/details/51824935)
2. [《Mastering KVM Virtualization》](http://pan.baidu.com/s/1kUN5Afl#list/path=%2F)



